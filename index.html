<!DOCTYPE html>
<html lang="en" ng-app="contactsApp">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <!-- Angular lib -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.6/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.6/angular-route.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <!-- Create some padding for body -->
    <style>
      body {
        min-height: 2000px;
        padding-top: 70px;
      }
    </style>

    <script src="/js/app.js"></script>
  </head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <div class="navbar-brand" href="#/">mLab Contact List</div>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#/">Home</a></li>
            <li class="active"><a href="#pictures">Share</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <br>
    <br>
    <br>

    <a name="pictures">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="ie=edge">
            <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
            <title>Mongo File Uploads</title>
            <style>
                img {
                    width: 100%;
                }
            </style>
        </head>
        <body>
                
            <div class="container">
                <div class="row">
                    <div class="-col-md-6 m-auto">
                            <h1 class="text center display-4 my-4">Mongo File Uploads</h1>
                            <form action ="/upload" method="POST" enctype="multipart/form-data">
                            <div class="custom-file mb-3">
                                <input type="file" name="file" id="file"
                                class="custom-file-input">
                                <label for="file" class="custom-file-label">Choose File</label>
                            </div>
                            <input type="submit" value="Submit" class="btn btn-primary btn-block">
                            </form>
    
                            <hr>
                            <% if(files){ %>
                                <% files.forEach(function(file) { %>
                                    <div class="card card-body mb-3">
                                        <% if(file.isImage) { %>
                                            <img src="image/<%=file.filename %>" alt="">
                                            <% } else { %>
                                                <%= file.filename %>
                                            <% } %>
                                            <form method="POST" action="/files/<%= file._id %>?_method=DELETE">
                                                <button class= "btn btn-danger btn btn-block mt-4">
                                                    Delete
                                                </button>
                                            </form>
                                    </div>
                                <% }) %>
                            <% }else { %>
                                <p>No file to show</p>
                            <% } %>
                    </div>
                </div>
            </div>
            
            <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
        </body>
    </a>
    <!-- Dynamically render templates -->
    <div class="container" ng-view>
    </div>
  </body>
</html>
